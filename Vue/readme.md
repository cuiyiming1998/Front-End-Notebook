# Vue

## Vue有哪些优点？

- 轻量级框架：只关注视图层
- 双向数据绑定，保留Angular的优点，在数据操作方面更加简单
- 组件化：保留React的优点，保留了HTML的封装和重用，在构建单页面应用方面有独特的优势
- 数据，视图，结构分离：不需要逻辑代码的修改，只需要操作数据就能完成相关操作
- 虚拟DOM：不再使用原生的DOM操作，节省性能
- 运行速度相较于React更快



## 组件传参

- 父传子： 使用`props`
- 子传父： 子组件通过`$emit`触发父组件的自定义事件穿参
- 兄弟组件传参：通过`eventbus`



## v-if和v-show的共同点和不同点

- 相同点：都可以控制元素的显示和隐藏

- 不同点：
  - `v-if`是动态地向DOM添加或者删除元素，如果不停地通过`v-if`创建和销毁元素，比较消耗性能
  - `v-show`是控制元素的`display`属性实现添加或者删除元素，只会编译一次
- 如果需要频繁切换节点的显示或隐藏，可以使用`v-show`（初始开销比较大，切换开销比较小）。如果不需要切换节点的话使用`v-if`（初始开销比较小，切换开销比较大）



## keep-alive

`<keep-alive>`是Vue内置的组件，可以使被包含的组件保留状态，或避免重新渲染



## 如何获取DOM

通过使用Vue中的`ref`

```html
<template>
    <!-- 设置ref名 -->
    <div ref="domName"></div>  
</template>
```

在script中获取ref使用`this.$ref.domName`



## computed和watch的使用场景

- Computed：当一个属性受多个属性影响的时候使用，需要`return`一个数值来保存
- Watch：当一条数据影响多条数据的时候使用。一般是监听一个数值的变化，然后做响应的操作



## data为什么必须是一个函数？

因为JS特性所致，在组件中，`data`必须以函数的形式存在，不可以是对象。

组件中的`data`写成一个函数，以返回值的形式定义。这样每次使用组件的时候，都会返回一份新的`data`，相当于每一个实例都有自己私有的数据空间，它们只负责各自维护的数据，不会造成混乱。如果写成对象的形式，所有实例共用一个对象，会造成数据的混乱。



## Vue的双向数据绑定的原理

Vue是采用数据劫持结合发布者-订阅者模式，通过`Object.defineProperty()`方法来劫持各个属性的`getter`和`setter`，在数据变动时发布消息给订阅者，触发相应的监听回调。